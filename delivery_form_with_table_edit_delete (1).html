
<!DOCTYPE html>

<html lang="th">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ระบบส่งของ JIRANYA 2526</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
    body { background-color: #f0fff5; font-family: 'Prompt', sans-serif; }
    .form-section { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .form-label-icon { display: flex; align-items: center; font-weight: bold; margin-bottom: 6px; }
    .form-label-icon i { margin-right: 6px; }
    .submit-btn { width: 100%; font-size: 18px; padding: 10px; }
  </style>
</head>
<body>
<div class="container py-4">
<h4><i class="fas fa-box-open"></i> <b>ระบบส่งของ <span style="color: #0a7b46;">JIRANYA 2526</span></b></h4>
<div class="form-section mt-3">
<h5><i class="fas fa-clipboard-list"></i> แบบฟอร์มกรอกข้อมูล</h5>
<form id="deliveryForm">
<div class="row mt-3">
<div class="col-md-4">
<label class="form-label-icon"><i class="fas fa-calendar-alt"></i> วันที่</label>
<input class="form-control" name="date" required="" type="date"/>
</div>
<div class="col-md-4">
<label class="form-label-icon"><i class="fas fa-user"></i> ชื่อลูกค้า</label>
<input class="form-control" name="customer" required="" type="text"/>
</div>
<div class="col-md-4">
<label class="form-label-icon"><i class="fas fa-box"></i> สินค้า</label>
<input class="form-control" name="product" required="" type="text"/>
</div>
<div class="col-md-4 mt-3">
<label class="form-label-icon"><i class="fas fa-sort-numeric-up-alt"></i> จำนวน</label>
<input class="form-control" name="quantity" required="" type="number"/>
</div>
<div class="col-md-4 mt-3">
<label class="form-label-icon"><i class="fas fa-coins"></i> ราคาต่อหน่วย</label>
<input class="form-control" name="price" required="" type="number"/>
</div>
<div class="col-md-4 mt-3">
<label class="form-label-icon"><i class="fas fa-car-side"></i> ทะเบียนรถ</label>
<input class="form-control" name="plate" type="text"/>
</div>
<div class="col-md-4 mt-3">
<label class="form-label-icon"><i class="fas fa-truck-loading"></i> สถานะจัดส่ง</label>
<input class="form-control" name="statusDeliver" type="text"/>
</div>
<div class="col-md-4 mt-3">
<label class="form-label-icon"><i class="fas fa-credit-card"></i> สถานะชำระเงิน</label>
<select class="form-select" name="statusPaid">
<option value="">เลือกสถานะชำระเงิน</option>
<option value="ยังไม่ชำระ">ยังไม่ชำระ</option>
<option value="ชำระแล้ว">ชำระแล้ว</option>
</select>
</div>
</div>
<div class="row mt-4">
<div class="col-12">
<button class="btn btn-success submit-btn" type="submit">
<i class="fas fa-clipboard-check"></i> ตรวจสอบข้อมูล
            </button>
</div>
</div>
</form>
<div class="container mt-5">
<h4 class="mb-3"><i class="fa-solid fa-table"></i> รายการทั้งหมด</h4>
<div class="table-responsive">
<table class="table table-bordered table-hover text-center" id="dataTable">
<thead class="table-success">
<tr>
<th>#</th>
<th>วันที่</th>
<th>ลูกค้า</th>
<th>สินค้า</th>
<th>จำนวน</th>
<th>ราคาต่อหน่วย</th>
<th>ทะเบียนรถ</th>
<th>สถานะจัดส่ง</th>
<th>สถานะชำระ</th>
<th>จัดการ</th>
</tr>
</thead>
<tbody id="tableBody">
<!-- ข้อมูลจะถูกเพิ่มแบบเรียลไทม์ผ่าน JS -->
</tbody>
</table>
</div>
</div>

</div>
</div>
<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxemuDRDDg7jmRBs1rm_tE7zmi_RdX-cVxDuY_vSm-zV7P-rSbCKInECrhmcjNaCV7PSA/exec';
    const form = document.getElementById('deliveryForm');

    form.addEventListener('submit', e => {
      e.preventDefault();
      const formData = new FormData(form);
      fetch(scriptURL, { method: 'POST', body: formData })
        .then(response => {
          alert('✅ บันทึกข้อมูลเรียบร้อยแล้ว');
          form.reset();
        })
        .catch(error => alert('❌ เกิดข้อผิดพลาด: ' + error.message));
    });
  </script>
</body>
</html>
